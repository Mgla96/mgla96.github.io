<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162546155-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());
        gtag("config", "UA-162546155-1");
    </script>
    <meta charset="UTF-8" />
    <title>Matt Gottlieb | About</title>
    <!-- <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"> -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="css/about.css" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <!-- Scroll Animations -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link href="https://fonts.googleapis.com/css?family=Saira" rel="stylesheet" />
    <!-- Fonts-->
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no" />
</head>

<body class="loading">
    <!--navbar -->
    <nav class="navbar navbar-trans navbar-dark fixed-top navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <!-- <img src="css/images/mattlogoblack.svg" width="150" height="auto" alt="">-->
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#home">
                            <ion-icon style="margin-right: 5px;" name="home"></ion-icon>Home
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#about">
                            <ion-icon style="margin-right: 5px;" name="person"></ion-icon>About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#projects">
                            <ion-icon style="margin-right: 5px;" name="hammer"></ion-icon>Projects
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="resume.pdf">
                            <ion-icon style="margin-right: 5px;" name="document"></ion-icon>Resume
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#contact">
                            <ion-icon style="margin-right: 5px;" name="mail"></ion-icon>Contact
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <canvas id="viewport">

    </canvas>


    <script src="js/three.js"></script>
    <script src="js/GLTFLoader.js"></script>
    <script src="js/LoadingManager.js"></script>
    <script src="js/tween.umd.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/AudioListener.js"></script>
    <script src="js/PointerLockControls.js"></script>
    <script src="js/GLTFLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.3.0/simplex-noise.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="js/jquery.visible.js"></script>
    <!-- need to download for https://threejs.org/examples/#webgl_loader_gltf
    <script src="js/RGBELoader.js"></script>
    <script src="js/RoughnessMipMapper.js"></script>
    -->
    <script>
        AOS.init();
    </script>

    <script>
        //some helper functions here
        function fractionate(val, minVal, maxVal) {
            return (val - minVal) / (maxVal - minVal);
        }
        function modulate(val, minVal, maxVal, outMin, outMax) {
            var fr = fractionate(val, minVal, maxVal);
            var delta = outMax - outMin;
            return outMin + fr * delta;
        }
        function avg(arr) {
            var total = arr.reduce(function (sum, b) {
                return sum + b;
            });
            return total / arr.length;
        }
        function max(arr) {
            return arr.reduce(function (a, b) {
                return Math.max(a, b);
            });
        }
        //initialise simplex noise instance
        var noise = new SimplexNoise();
        // the main visualiser function
        var vizInit = function () {
            play();

            function play() {
                //here comes the webgl
                var scene = new THREE.Scene();
                var group = new THREE.Group();
                var camera = new THREE.PerspectiveCamera(
                    45,
                    window.innerWidth / window.innerHeight,
                    0.1,
                    1000
                );
                camera.position.set(0, 0, 100);
                camera.position.z = 100 + window.scrollY;
                camera.lookAt(0, 0, 100);
                //camera.lookAt(scene.position);
                scene.add(camera);
                var listener = new THREE.AudioListener();
                camera.add(listener);
                var renderer = new THREE.WebGLRenderer({
                    alpha: true,
                    antialias: true,
                    canvas: document.getElementById("viewport"),
                });
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                /*
                renderer.toneMapping = THREE.ACESFilmicToneMapping;
				renderer.toneMappingExposure = 0.8;
                renderer.outputEncoding = THREE.sRGBEncoding;
                var pmremGenerator = new THREE.PMREMGenerator( renderer );
				pmremGenerator.compileEquirectangularShader();
				controls = new OrbitControls( camera, renderer.domElement );
				controls.addEventListener( 'change', render ); // use if there is no animation loop
				controls.minDistance = 2;
				controls.maxDistance = 10;
				controls.target.set( 0, 0, - 0.2 );
				controls.update();
                */
                var planeGeometry = new THREE.PlaneGeometry(800, 800, 20, 20);
                var planeMaterial = new THREE.MeshLambertMaterial({
                    color: 0x6904ce,
                    side: THREE.DoubleSide,
                    wireframe: true,
                });
                var planeMaterial2 = new THREE.MeshLambertMaterial({
                    color: 0x6904ce,
                    side: THREE.DoubleSide,
                    wireframe: true,
                });
                var plane = new THREE.Mesh(planeGeometry, planeMaterial);
                plane.rotation.x = -0.5 * Math.PI;
                plane.position.set(0, 30, 0);
                group.add(plane);

                var plane2 = new THREE.Mesh(planeGeometry, planeMaterial2);
                plane2.rotation.x = -0.5 * Math.PI;
                plane2.position.set(0, -30, 0);
                group.add(plane2);

                var icosahedronGeometry = new THREE.IcosahedronGeometry(10, 4);
                var lambertMaterial = new THREE.MeshLambertMaterial({
                    color: 0xff00ee,
                    wireframe: true,
                });

                var ball = new THREE.Mesh(icosahedronGeometry, lambertMaterial);

                ball.position.set(0, 0, 0);
                group.add(ball);

                var ambientLight = new THREE.AmbientLight(0xaaaaaa);
                scene.add(ambientLight);

                var spotLight = new THREE.SpotLight(0xffffff);
                spotLight.intensity = 0.9;
                spotLight.position.set(-10, 40, 20);
                spotLight.lookAt(ball);
                spotLight.castShadow = true;
                scene.add(spotLight);

                scene.add(group);
                window.addEventListener("resize", onWindowResize, false);
                //window.addEventListener("wheel", updateCamera, true);

                var screen_height = $(window).height();


                new RGBELoader()
					.setDataType( THREE.UnsignedByteType )
					.setPath( 'textures/equirectangular/' )
					.load( 'royal_esplanade_1k.hdr', function ( texture ) {

						var envMap = pmremGenerator.fromEquirectangular( texture ).texture;

						scene.background = envMap;
						scene.environment = envMap;

						texture.dispose();
						pmremGenerator.dispose();

						render();

						// model

						// use of RoughnessMipmapper is optional
						var roughnessMipmapper = new RoughnessMipmapper( renderer );

						var loader = new GLTFLoader().setPath( 'models/gltf/DamagedHelmet/glTF/' );
						loader.load( 'DamagedHelmet.gltf', function ( gltf ) {

							gltf.scene.traverse( function ( child ) {

								if ( child.isMesh ) {

									roughnessMipmapper.generateMipmaps( child.material );

								}

							} );

							scene.add( gltf.scene );

							roughnessMipmapper.dispose();

							render();

						} );

					} );

                render();

                function render() {
                    //ball.rotation.y += 0.005;
                    renderer.render(scene, camera);
                    requestAnimationFrame(render);
                }
                function onTransitionEnd(event) {
                    event.target.remove();
                }

                function onWindowResize() {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                }


                function updateCamera(ev) {
                    //let div1 = document.getElementById("div1");
                    if ($("#ev1").visible()) {
                        camera.position.set(-10, 0, 100);
                        sound.play();
                    } else if ($("#ev2").visible()) {
                        camera.position.set(10, 0, 100);
                        sound.play();
                    } else if ($("#ev3").visible()) {
                        camera.position.set(0, 0, 100);
                        sound.play();
                    } else {
                        camera.position.set(0, 0, 100);
                    }
                }
            }
        };
        window.onload = vizInit();
        document.body.addEventListener("touchend", function (ev) {
            context.resume();
        });
    </script>

</body>

</html>

<!--
Scooter	#31bacf	Primary
Charade	#2f323f	Info
Ocean Green	c	Success
Roti	#c1a23e	Warning
Pomegranate	#f44336	Danger
$primary: #31bacf; 
$info: #2f323f;
$success: #2f323f; 
$warning: #c1a23e;
$danger: #f44336;
-->